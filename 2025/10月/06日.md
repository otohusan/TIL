# 2025 年 10 月 06 日

## mongo インデックス

- クエリの実行を効率的にするために使用する

- インデックスを追加すると書き込み操作の動作に悪影響が起きる

- 書き込みの数は少ないけど、読み取りの数は多いみたいなものにつける？

- インデックス作成時に負荷がかかるから、ドキュメントの量によっては注意する

- 何でもかんでもインデックスつけると、インデックスのデータサイズが大きくなる

### 複合インデックス

- 各ドキュメントの複数のフィールド値からデータを収集してソートする

### 気になったとこ

> インデックス 1GB ごとに **$60.7/月** かかる  
> [参考: studysapuri ブログ](https://blog.studysapuri.jp/entry/mongodb-index#:~:text=%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82-,%E3%82%A4%E3%83%B3%E3%83%87%E3%83%83%E3%82%AF%E3%82%B91GB%E3%81%82%E3%81%9F%E3%82%8A%E3%81%AE%E3%82%B3%E3%82%B9%E3%83%88%E8%A8%88%E7%AE%97,-%E5%85%88%E3%81%BB%E3%81%A9%E7%B4%B9%E4%BB%8B%E3%81%97%E3%81%9F)

そんなに値段するんや、円安が辛そう

### 疑問

インデックスをつける際の基準は？

コードに書くだけだとインデックスはつかない？
→ 環境によって制御できるっぽい

### 参考

- https://blog.studysapuri.jp/entry/mongodb-index
- https://www.mongodb.com/ja-jp/docs/manual/indexes/
