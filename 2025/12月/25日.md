# 2025 年 12 月 25 日

## React 関数の引数

コンポーネントに `onChange={onChange}` と渡すと、意図せずイベントオブジェクトが渡されてしまう問題

### 問題のあるコード

```tsx
const ParentComponent = () => {
  const [value, setValue] = useState("");

  // valueをオプショナルで受け取ることを期待している関数
  const onChange = (newValue?: string) => {
    console.log(newValue.toUpperCase()); // string として扱う
    setValue(newValue);
  };

  return <ChildComponent onChange={onChange} />;
};

const ChildComponent = ({ onChange }: { onChange: () => void }) => {
  // onChange を引数なしで呼び出せる
  return <button onClick={onChange}>クリック</button>;
};
```

### 何が起きるか

- 親は `onChange("文字列")` のように呼ばれることを期待
- しかし `onClick={onChange}` と書くと、React は `MouseEvent` を渡す

```tsx
// 実際にはこう呼ばれる
onChange(MouseEvent); // ← string ではなく MouseEvent が渡される！
```
