# 2025 年 12 月 18 日

## rails c バリデーションを無視して値を与える

通常、`update`や`save`はバリデーションが実行される。
バリデーションを無視して値をセットしたい場合は、`set_attribute`や`assign_attributes`、または直接属性を書き換えて`save(validate: false)`を使う。

### 例

```rb
user = User.first
user.name = nil # バリデーション違反の値をセット
user.save(validate: false) # バリデーションを無視して保存

# または
user.assign_attributes(name: nil)
user.save(validate: false)
```

Mongoid の場合は`set`メソッドでバリデーションを無視して直接 DB を書き換えられる。

```rb
user.set(name: nil)
```
