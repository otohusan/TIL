# 2025 年 12 月 23 日

## .compact メソッド

配列から `nil` を取り除くメソッド（Ruby）

### 基本的な使い方

```ruby
[1, nil, 2, nil, 3].compact
# => [1, 2, 3]
```

### 特徴

- `nil` のみを削除（`false` や空文字は残る）
- 元の配列は変更しない（非破壊的）
- `compact!` を使うと元の配列を直接変更（破壊的）

### 使用例

```ruby
# nil以外は残る
[1, nil, false, "", 0].compact
# => [1, false, "", 0]

# 破壊的メソッド
arr = [1, nil, 2]
arr.compact!
# arr => [1, 2]
```

### よくある使いどころ

- データベースから取得した値の整理
- `map` の結果から不要な `nil` を除去
