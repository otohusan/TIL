# 2025年11月05日

## allow_any_instance に関して
- 対象クラスの全インスタンスに対して目的のメソッドをモック化できる

### 警告が出る理由
Rspec 公式でも非推奨のような感じ
- 予期しない挙動や理解しづらいテストコードの原因になる。
- これを使うようなら、実装かテストが複雑すぎる
- 昔からいくつものバグを含んできた

### 参考
- https://zenn.dev/murakamiiii/articles/eddd69f3dcde18
- https://qiita.com/jnchito/items/640f17e124ab263a54dd
- https://rspec.info/features/3-13/rspec-mocks/working-with-legacy-code/any-instance/
