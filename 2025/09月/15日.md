# 2025 年 09 月 15 日

## Hono, Cloudflare Wakers, D1, Drizzle での統合テスト

長くなりそうだから今度まとめる

## Drizzle テストデータ

drizzle-seed ってのがある

### 簡単な例

```ts
import { drizzle } from "drizzle-orm/d1";
import * as schema from "../../src/db/schema";
import { seed } from "drizzle-seed";

const db = drizzle(env.DB);

// デフォルトだと10件作成する
await seed(db, { users: schema.users });

// 少し複雑な例
await seed(db, { users: schema.users }).refine((f) => ({
  users: {
    columns: {
      name: f.fullName(), // デフォルトである、名前を作成する関数
    },
    count: 20, // 作成するユーザーの個数を指定
  },
}));
```

他にも`with`を使って、関連になっている要素を作成したりとか、色々できそう

### 参考

- https://orm.drizzle.team/docs/seed-overview
